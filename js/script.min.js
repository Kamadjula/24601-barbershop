!function(e,o){var t=o.querySelector(".login"),s=o.querySelector(".modal-content"),l=o.querySelector(".modal-overlay"),a=s.querySelector(".modal-content-close"),n=s.querySelector("form"),r=s.querySelector("[name=login]"),c=s.querySelector("[name=password]"),d=localStorage.getItem("login"),i=o.querySelectorAll(".js-open-map"),m=o.querySelector(".modal-content-map"),v=m.querySelector(".modal-content-close");t.addEventListener("click",function(e){e.preventDefault(),l.classList.add("modal-overlay-show"),s.classList.add("modal-content-show"),d?(r.value=d,c.focus()):r.focus()}),a.addEventListener("click",function(e){e.preventDefault(),l.classList.remove("modal-overlay-show"),s.classList.remove("modal-content-show"),s.classList.remove("modal-error")}),n.addEventListener("submit",function(e){r.value&&c.value?localStorage.setItem("login",r.value):(e.preventDefault(),s.classList.remove("modal-error"),s.offsetWidth=s.offsetWidth,s.classList.add("modal-error"))}),e.addEventListener("keydown",function(e){27===e.keyCode&&s.classList.contains("modal-content-show")&&(l.classList.remove("modal-overlay-show"),s.classList.remove("modal-content-show"),s.classList.remove("modal-error"))}),function(){for(var e=0;e<i.length;e++)i[e].addEventListener("click",function(e){e.preventDefault(),l.classList.add("modal-overlay-show"),m.classList.add("modal-content-show")})}(),v.addEventListener("click",function(e){e.preventDefault(),l.classList.remove("modal-overlay-show"),m.classList.remove("modal-content-show")}),e.addEventListener("keydown",function(e){27===e.keyCode&&m.classList.contains("modal-content-show")&&(l.classList.remove("modal-overlay-show"),m.classList.remove("modal-content-show"))}),l.addEventListener("click",function(){this.classList.remove("modal-overlay-show"),o.querySelector(".modal-content-show").classList.remove("modal-content-show")})}(window,document,window.BarbershopSite||{});